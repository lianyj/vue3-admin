import{_ as e}from"./element-plus.392249c9.js";import"./index.5b6ae43b.js";import"./vue.6371db79.js";import{a as l}from"./axios.6127bb87.js";import{a8 as a,a9 as t,P as o,R as r,o as s,d,N as i,l as m,f as u,F as n,aa as p,U as c}from"./@vue.07e3533d.js";import"./dayjs.2a17732a.js";import"./lodash.ebb3c926.js";import"./mitt.33133208.js";import"./async-validator.e3a73323.js";import"./@popperjs.6ab8fae4.js";import"./resize-observer-polyfill.06552ccc.js";import"./normalize-wheel.d56ec257.js";import"./@sentry.2890fdbd.js";import"./tslib.e2371a99.js";import"./vue-router.b8b6d224.js";const f={name:"Guest",data:()=>({loading:!1,formModel:{userId:null,userLevel:null,userName:null,contactName:null,mobile:null},tableData:[],multipleSelection:[],total:0,currentPage:1,pageSize:10,dialogFormVisible:!1,dialogFormTitle:"",type:1,form:{userId:null,userName:"",userLevel:"",contactName:"",mobile:"",address:"",remark:""}}),methods:{getGuestList(){this.loading=!0,l.get("/users",{params:{userId:this.formModel.userId,userLevel:this.formModel.userLevel,userName:this.formModel.userName,contactName:this.formModel.contactName,mobile:this.formModel.mobile,pageNumber:this.currentPage,pageSize:this.pageSize}}).then((e=>{this.tableData=e.list,this.total=e.totalCount,this.currentPage=e.currPage,this.loading=!1}))},changePage(e){this.currentPage=e,this.getGuestList()},handleStatus(a,t){ElMessageBox.confirm("确认是否要删除用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{let o={userId:a,status:t};l.get("/users/status",{params:o}).then((l=>{e({type:"success",message:"操作成功!"}),this.getGuestList()}))})).catch((()=>{e({type:"info",message:"已取消"})}))},addUserLick(){this.dialogFormVisible=!0,this.dialogFormTitle="新增客户",this.type=1,this.form={}},addUser(){l.post("/user/add",this.form).then((()=>{e({type:"success",message:"新增成功!"}),this.dialogFormVisible=!1,this.getGuestList()}))},updateUserLick(e){this.dialogFormVisible=!0,this.dialogFormTitle="修改客户",this.type=2,this.form=e},updateUser(){l.post("/user/update",this.form).then((()=>{e({type:"success",message:"修改成功!"}),this.dialogFormVisible=!1,this.getGuestList()}))}},created(){this.getGuestList()}},b=p("data-v-1e85480e");a("data-v-1e85480e");const g={class:"header"},h=c("A"),V=c("B"),y=c("C"),_=c("搜索"),k=c("新增客户"),v=c("A"),U=c("B"),C=c("C"),L={class:"dialog-footer"},N=c("取 消"),M=c("新 增"),j=c("修 改");t();const x=b(((e,l,a,t,p,c)=>{const f=o("el-input"),x=o("el-form-item"),w=o("el-option"),F=o("el-select"),I=o("el-button"),z=o("el-form"),P=o("el-table-column"),G=o("el-table"),S=o("el-pagination"),T=o("el-card"),B=o("el-radio"),D=o("el-radio-group"),A=o("el-dialog"),E=r("loading");return s(),d(n,null,[i(T,{class:"guest-container"},{header:b((()=>[i("div",g,[i(z,{size:"mini",inline:"",modelValue:p.formModel,"onUpdate:modelValue":l[7]||(l[7]=e=>p.formModel=e),style:{width:"100%","font-size":"12px"}},{default:b((()=>[i(x,{label:"用户ID"},{default:b((()=>[i(f,{placeholder:"用户ID",modelValue:p.formModel.userId,"onUpdate:modelValue":l[1]||(l[1]=e=>p.formModel.userId=e),clearable:""},null,8,["modelValue"])])),_:1}),i(x,{label:"用户等级"},{default:b((()=>[i(F,{placeholder:"用户等级",modelValue:p.formModel.userLevel,"onUpdate:modelValue":l[2]||(l[2]=e=>p.formModel.userLevel=e),clearable:""},{default:b((()=>[i(w,{label:"A",value:"1"},{default:b((()=>[h])),_:1}),i(w,{label:"B",value:"2"},{default:b((()=>[V])),_:1}),i(w,{label:"C",value:"3"},{default:b((()=>[y])),_:1})])),_:1},8,["modelValue"])])),_:1}),i(x,{label:"用户名称"},{default:b((()=>[i(f,{placeholder:"用户名称",modelValue:p.formModel.userName,"onUpdate:modelValue":l[3]||(l[3]=e=>p.formModel.userName=e),clearable:""},null,8,["modelValue"])])),_:1}),i(x,{label:"联系人名称"},{default:b((()=>[i(f,{placeholder:"联系人名称",modelValue:p.formModel.contactName,"onUpdate:modelValue":l[4]||(l[4]=e=>p.formModel.contactName=e),clearable:""},null,8,["modelValue"])])),_:1}),i(x,{label:"联系号码"},{default:b((()=>[i(f,{placeholder:"联系号码",modelValue:p.formModel.mobile,"onUpdate:modelValue":l[5]||(l[5]=e=>p.formModel.mobile=e),clearable:""},null,8,["modelValue"])])),_:1}),i(I,{size:"mini",type:"primary",onClick:l[6]||(l[6]=e=>c.getGuestList())},{default:b((()=>[_])),_:1}),i(I,{size:"mini",type:"danger",onClick:c.addUserLick},{default:b((()=>[k])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])])),default:b((()=>[m(i(G,{data:p.tableData,"tooltip-effect":"dark",style:{width:"100%"}},{default:b((()=>[i(P,{prop:"userId",label:"客户ID"}),i(P,{prop:"userName",label:"客户名称"}),i(P,{prop:"userLevelStr",label:"客户等级"}),i(P,{prop:"contactName",label:"联系人"}),i(P,{prop:"mobile",label:"联系电话"}),i(P,{prop:"address",label:"联系地址"}),i(P,{prop:"remark",label:"备注"}),i(P,{prop:"createTime",label:"注册时间"}),i(P,{label:"操作",width:"100"},{default:b((e=>[i("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:l=>c.updateUserLick(e.row)},"修改",8,["onClick"]),i("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:l=>c.handleStatus(e.row.userId,1)},"删除",8,["onClick"])])),_:1})])),_:1},8,["data"]),[[E,p.loading]]),i(S,{background:"",layout:"prev, pager, next",total:p.total,"page-size":p.pageSize,"current-page":p.currentPage,onCurrentChange:c.changePage},null,8,["total","page-size","current-page","onCurrentChange"])])),_:1}),i(A,{title:p.dialogFormTitle,modelValue:p.dialogFormVisible,"onUpdate:modelValue":l[15]||(l[15]=e=>p.dialogFormVisible=e)},{footer:b((()=>[i("span",L,[i(I,{onClick:l[14]||(l[14]=e=>p.dialogFormVisible=!1)},{default:b((()=>[N])),_:1}),1===p.type?(s(),d(I,{key:0,type:"primary",onClick:c.addUser},{default:b((()=>[M])),_:1},8,["onClick"])):u("v-if",!0),2===p.type?(s(),d(I,{key:1,type:"primary",onClick:c.updateUser},{default:b((()=>[j])),_:1},8,["onClick"])):u("v-if",!0)])])),default:b((()=>[i(z,{model:p.form},{default:b((()=>[i(x,{label:"客户名称"},{default:b((()=>[i(f,{modelValue:p.form.userName,"onUpdate:modelValue":l[8]||(l[8]=e=>p.form.userName=e),style:{width:"100%"},clearable:""},null,8,["modelValue"])])),_:1}),i(x,{label:"客户等级"},{default:b((()=>[i(D,{modelValue:p.form.userLevel,"onUpdate:modelValue":l[9]||(l[9]=e=>p.form.userLevel=e),style:{width:"100%"},clearable:""},{default:b((()=>[i(B,{label:1,style:{"margin-left":"30px","margin-top":"30px"}},{default:b((()=>[v])),_:1}),i(B,{label:2,style:{"margin-left":"30px","margin-top":"30px"}},{default:b((()=>[U])),_:1}),i(B,{label:3,style:{"margin-left":"30px","margin-top":"30px"}},{default:b((()=>[C])),_:1})])),_:1},8,["modelValue"])])),_:1}),i(x,{label:"联系人"},{default:b((()=>[i(f,{modelValue:p.form.contactName,"onUpdate:modelValue":l[10]||(l[10]=e=>p.form.contactName=e),style:{width:"100%"},clearable:""},null,8,["modelValue"])])),_:1}),i(x,{label:"联系电话"},{default:b((()=>[i(f,{modelValue:p.form.mobile,"onUpdate:modelValue":l[11]||(l[11]=e=>p.form.mobile=e),style:{width:"100%"},clearable:""},null,8,["modelValue"])])),_:1}),i(x,{label:"联系地址"},{default:b((()=>[i(f,{modelValue:p.form.address,"onUpdate:modelValue":l[12]||(l[12]=e=>p.form.address=e),style:{width:"100%"},clearable:""},null,8,["modelValue"])])),_:1}),i(x,{label:"备注"},{default:b((()=>[i(f,{modelValue:p.form.remark,"onUpdate:modelValue":l[13]||(l[13]=e=>p.form.remark=e),style:{width:"100%"},clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title","modelValue"])],64)}));f.render=x,f.__scopeId="data-v-1e85480e";export{f as default};
